% Душевный Учебник по Руби — Глава 4
% Why the lucky stiff; Andrei Volkov (translator)

Глава 4. Листики кода кружат на ветру
=======================================================
![o](images/chapter.poignant.guide-4.jpg)\ 

![Глубоко–глубоко в Пещерах Амбрэ, жил–был Эльф Сколбасой](images/the.elf-1.png) ![и чёрный кот по кличке Негыр](images/the.elf-2.png) Вообще–то, мы как–раз к Эльфу и пришли, он будет играть важную роль в сегодняшнем уроке. (Кстати, первый раз слышу про разумную колбасу — я думал они только на сковородках шкварчать умеют.)

Девочки, у нас будет посетитель, просьба выглядеть прилично (вот ты, пожалуйста, одень юбку, а не эти ужасные колготы со штрипками!)

А теперь, давайте все вместе поздороваемся с Эльфом Амвросьевичем.

> Здравствуйте Эльф Амвросьевич!!!

Сразу предупреждаю: этот урок более нудный; наберись терпения. Мы будем проходить самую важную часть Руби — принцип работы программ.
Я понимаю, тебе хочется поскорее начать писать код, но без понимания этих принципов выучить Руби невозможно.
Зато когда ты их поймешь, всё остальное будет легко и просто, а главное красиво. Руби будет греть тебе сердце, как мягкий пуховый спальник.

## 1. Шелковичный Листик как символ статуса в Гадюшнике

Эльф Амвросьевич, расскажите пожалуйста нашим ученицам, с какими проблемами столкнулся ваш город, и как введение альтернативной валюты помогло их решить.
![Народ не верил в самоцветы](images/the.elf-3.png)

(На самом деле, всё было по–другому.
Звонит мне однажды Эльф целый день, звонит и звонит, а я трубку не беру.
Тогда он начинает слать кучи СМСок, типа: «Срочно перезвони!!!!!» и «Усатые скупают листву» и «Скидывай камни!!!!» и всё такое.
Тут мне и пришла в голову идея: если народ верит в листики, почему бы их не легализовать?)

После короткого периода паники, курс обмена начал стабилизироваться. Сейчас за один шелковичный листик дают пять болотных самоцветов.
Т.е. ситуация на валютном рынке выглядит так:

    samocvet = 1
    listik = 5

Конечно, для четвертой главы этот пример *совсем уж* детский, но это только начало. Мы присваиваем значения двум *переменным*.
**Знак равенства** — это операция *присваивания*, или *установки*.

После установки значения, переменная `listik` обрела смысл.
Теперь она представляет число `5`, т.е. пять голубых самоцветов.
И вот эта простая операция, мои дорогие, и есть **главный принцип Руби**!
Мы *создаём* вещи, и *наделяем* их смыслом. 
Присваивание переменных — это создание элементарных кирпичиков смысла.
Всё остальное — дело техники.

Ну а что касается Эльфа, ему жаловаться не приходится.
Он открыл самые первые в Гадюшнике пункты обмена валют, и прилично заработал.
(И хотя для нас он маленький гномик, для жителей Страны Болот — он страшный великан!)
![Лаборатория электронных имплантантов](images/the.elf-4.png)
Не–не–не–не–не–не! Не надо ей такое видеть. Она растроится, подумает, что это противоестественно, негуманно, грязно, извращённо и так далее, правда, птичечка?

### Давайте я сначала расскажу, чем они там занимаются, тем более, что торопиться нам некуда, ведь это же не фильм.

Давным–давно, ещё до ютьюба, была у меня моя собственная скаковая лошадь. Однажды во время скачек она споткнулась, перекувыркнулась раз десять и врезалась в грузчика с ящиком майонеза. Весь ипподром был залит смесью крови с майонезом.

Ветеринар сразу сказал — лошади хана, ходить не будет, лучше сразу усыпить. Все четыре ноги переломаны, не оставлять же безногую лошадь. Ну что она будет, сидеть всё время, или ездить на инвалидном кресле? Ветеринар клялся сердцем матери, что ничего нельзя сделать. Мнения разделились: большинство людей ему верили — всё–таки профессионал — но некоторые были слишком упертые и не хотели сдаваться. "Некоторых" было немного — я да Эльф Сколбасой.

И пока остальные закупали венки и медали на похороны моего коня, мы с Эльфом упорно рылись в интернете, и в конце концов нашли выход. Мы взяли живых раков и вживили их коню в культи. Получилось офигенно! У нас снова была лошадь, вернее, лошадинное тело на членистоногой платформе. Она прожила много счастливых лет, тихо ползая во влажной темноте пещер.

Через несколько лет, Эльф основал фирму "Продвинутое Животноводство". Теперь это ведущая в Стране Болот лаборатория по вживлению животным электронных и биологических имплантантов. Они делают новых зверей и разбирают старых на запчасти. Конечно, многое поменялось со времён той первой лошади. В начале, помню, заходит в лабораторию медведь — выходит медведь в тёмных очках. Полная фигня.

Но прошло несколько лет, и вот, заходит в лабораторию краб — выходит краб с собственным ракетным ранцем. Называется «Джеткраб», модель 2004–го года.

И хотя этот бизнес несовсем легальный, сегодня он процветает. Лаборатория в прекрасном состоянии, всё чистое, всё сияет.  У всех работников есть оружие, для обороны. Вдруг кто–то зайдёт без приглашения, например пожарная инспекция, или налоговая. А если закончатся пули, у них есть приказ — бить пистолетами по башке.

Ну что ж, я думаю теперь мы готовы к демонстрации. Показывайте, Эльф Амвросьич.
